<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BIBLIOQUEST PRO - EDICI√ìN SUPREMA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon: #00f2ff;
            --gold: #fbbf24;
            --error: #ff4757;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: radial-gradient(circle at top, #1e293b 0%, #070b14 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .neon-border {
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
            border: 1px solid var(--neon);
        }

        .btn-pro {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .btn-pro:active {
            transform: scale(0.92);
        }

        .btn-pro:hover {
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.5);
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .shake {
            animation: shake 0.2s ease-in-out 0s 2;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .animate-float {
            animation: float 4s ease-in-out infinite;
        }

        #toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
            z-index: 1000;
        }

        #toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .letter-box {
            width: 40px;
            height: 55px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 900;
            border-bottom: 4px solid var(--neon);
            transition: all 0.3s;
        }

        .letter-pop {
            animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: rgba(0, 242, 255, 0.2);
        }

        @keyframes pop {
            0% {
                transform: scale(0.5);
            }

            100% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body class="p-4 md:p-8">

    <header class="max-w-2xl mx-auto flex justify-between items-center mb-8 glass p-5 rounded-[2.5rem] neon-border">
        <div class="flex items-center gap-4">
            <div
                class="w-12 h-12 bg-cyan-500 rounded-2xl flex items-center justify-center shadow-[0_0_20px_rgba(0,242,255,0.5)] rotate-3">
                <span class="text-2xl">üìñ</span>
            </div>
            <div>
                <h1 class="text-xl font-black tracking-tighter italic leading-none">BIBLIO<span
                        class="text-cyan-400">QUEST</span></h1>
                <span
                    class="text-[9px] bg-cyan-500/20 text-cyan-400 px-2 py-0.5 rounded-full font-black uppercase tracking-widest">Version
                    2.0 Pro</span>
            </div>
        </div>
        <div class="bg-slate-900/80 px-5 py-2 rounded-2xl border border-white/10 text-right">
            <p class="text-[8px] font-black text-slate-500 uppercase">Puntaje Total</p>
            <p id="scoreDisplay" class="text-xl font-black text-cyan-400">0000</p>
        </div>
    </header>

    <main id="gameContainer" class="max-w-xl mx-auto">
        <div id="screen-menu" class="space-y-6">
            <div class="glass p-10 rounded-[3.5rem] text-center border-t-4 border-cyan-400 animate-float shadow-2xl">
                <div class="text-7xl mb-6">üî•</div>
                <h2 class="text-3xl font-black mb-2 uppercase italic tracking-tighter">Misi√≥n Celestial</h2>
                <p class="text-slate-400 text-sm mb-10 leading-relaxed italic">"Tu palabra es una l√°mpara a mis pies y
                    una luz en mi camino."</p>

                <div class="grid grid-cols-1 gap-4">
                    <button onclick="startMode('word')"
                        class="btn-pro bg-cyan-500 hover:bg-cyan-400 text-slate-900 py-6 rounded-[2rem] font-black uppercase tracking-widest text-lg shadow-[0_10px_30px_rgba(0,242,255,0.3)]">
                        üî§ Palabra Secreta
                    </button>
                    <button onclick="startMode('emoji')"
                        class="btn-pro bg-slate-800 hover:bg-slate-700 text-white py-6 rounded-[2rem] font-black uppercase tracking-widest border border-slate-600">
                        üé® Emoji Challenge
                    </button>
                </div>
            </div>
        </div>

        <div id="screen-word" class="hidden space-y-6">
            <div class="glass p-8 rounded-[3rem] text-center relative overflow-hidden">
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent">
                </div>
                <p id="wordHint" class="text-cyan-400 text-[10px] font-black uppercase tracking-[0.3em] mb-6"></p>
                <div id="wordDisplay" class="flex justify-center gap-2 mb-10 flex-wrap"></div>
                <div id="keyboard" class="grid grid-cols-6 md:grid-cols-7 gap-2"></div>
                <button onclick="exitToMenu()"
                    class="mt-8 text-[10px] text-slate-500 font-black hover:text-white transition-colors">‚Üê ABANDONAR
                    MISI√ìN</button>
            </div>
        </div>

        <div id="screen-emoji" class="hidden space-y-6">
            <div class="glass p-10 rounded-[3rem] text-center">
                <div id="emojiDisplay" class="text-8xl mb-10 drop-shadow-[0_0_25px_rgba(255,255,255,0.3)]"></div>
                <h3 class="text-xs font-black text-cyan-400 uppercase tracking-widest mb-8">¬øQu√© historia b√≠blica es?
                </h3>
                <div id="emojiOptions" class="grid grid-cols-1 gap-3"></div>
                <button onclick="exitToMenu()"
                    class="mt-8 text-[10px] text-slate-500 font-black hover:text-white transition-colors">‚Üê ABANDONAR
                    MISI√ìN</button>
            </div>
        </div>
    </main>

    <div id="modal"
        class="hidden fixed inset-0 z-[100] bg-slate-950/95 backdrop-blur-xl flex items-center justify-center p-6">
        <div
            class="glass p-10 rounded-[4rem] max-w-xs w-full text-center border-t-4 border-cyan-400 shadow-[0_0_50px_rgba(0,242,255,0.2)]">
            <div id="modalIcon" class="text-8xl mb-6">üèÜ</div>
            <h3 id="modalTitle" class="text-3xl font-black mb-2 italic">¬°INCRE√çBLE!</h3>
            <p id="modalPoints" class="text-cyan-400 font-black mb-8">+500 XP</p>
            <button onclick="nextLevel()"
                class="btn-pro w-full bg-cyan-500 py-5 rounded-[2rem] font-black text-slate-900 shadow-xl">SIGUIENTE
                NIVEL</button>
        </div>
    </div>

    <div id="toast"
        class="glass px-10 py-4 rounded-full font-black text-cyan-400 border border-cyan-500 shadow-[0_0_20px_rgba(0,242,255,0.2)] uppercase italic">
    </div>

    <script>
        // --- MOTOR DE AUDIO ---
        const playSound = (type) => {
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            if (type === 'win') {
                osc.type = 'triangle'; osc.frequency.setValueAtTime(523.25, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1046.50, audioCtx.currentTime + 0.3);
            } else if (type === 'error') {
                osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.2);
            } else {
                osc.type = 'sine'; osc.frequency.setValueAtTime(800, audioCtx.currentTime);
            }
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start(); osc.stop(audioCtx.currentTime + 0.3);
        };

        const database = {
            words: [
                { word: "ABRAHAM", hint: "Padre de la fe" },
                { word: "MOISES", hint: "Abri√≥ el Mar Rojo" },
                { word: "GOLIAT", hint: "El gigante derrotado" },
                { word: "MANA", hint: "Pan ca√≠do del cielo" },

                // --- NIVEL F√ÅCIL (NI√ëOS) 1-34 ---
                { word: "JESUS", hint: "Hijo de Dios y nuestro Salvador" },
                { word: "ARCA", hint: "Barco grande que construy√≥ No√©" },
                { word: "ADAN", hint: "El primer hombre creado" },
                { word: "EVA", hint: "La primera mujer en el Ed√©n" },
                { word: "DAVID", hint: "Derrot√≥ al gigante con una piedra" },
                { word: "MANA", hint: "Pan que ca√≠a del cielo" },
                { word: "EDEN", hint: "El jard√≠n donde viv√≠an Ad√°n y Eva" },
                { word: "NOE", hint: "Construy√≥ un arca por el diluvio" },
                { word: "PEZ", hint: "Se trag√≥ al profeta Jon√°s" },
                { word: "MARIA", hint: "La madre terrenal de Jes√∫s" },
                { word: "PEDRO", hint: "El disc√≠pulo que camin√≥ sobre el agua" },
                { word: "GOLIAT", hint: "El gigante de los filisteos" },
                { word: "SANSON", hint: "Ten√≠a una fuerza incre√≠ble en su cabello" },
                { word: "MOISES", hint: "L√≠der que sac√≥ al pueblo de Egipto" },
                { word: "DANIEL", hint: "Fue echado al foso de los leones" },
                { word: "ESTHER", hint: "Reina que salv√≥ a su pueblo" },
                { word: "ABRAHAM", hint: "El padre de la fe" },
                { word: "ISAAC", hint: "Hijo de la promesa de Abraham" },
                { word: "JOSE", hint: "Ten√≠a una t√∫nica de muchos colores" },
                { word: "PABLO", hint: "Escribi√≥ muchas cartas en el NT" },
                // (Se completa hasta 100 con conceptos como: TABERNACULO, PENTECOSTES, JERUSALEN, EXODO, APOCALIPSIS...)
                { word: "MATEO", hint: "Era recaudador de impuestos" },
                { word: "LUCAS", hint: "El m√©dico amado" },
                { word: "MARCOS", hint: "Autor del segundo evangelio" },
                { word: "JUAN", hint: "El disc√≠pulo amado" },
                { word: "JUDAS", hint: "Entreg√≥ a Jes√∫s por monedas" },
                { word: "LAZARO", hint: "Amigo de Jes√∫s que resucit√≥" },
                { word: "ZACARIAS", hint: "Padre de Juan el Bautista" },
                { word: "ELIAS", hint: "Subi√≥ al cielo en un torbellino" },
                { word: "ELISEO", hint: "Sucesor del profeta El√≠as" },
                { word: "SARA", hint: "Esposa de Abraham" },
                { word: "RUTH", hint: "Nuera fiel de Noem√≠" },
                { word: "BOOZ", hint: "Esposo de Ruth" },
                { word: "SALOMON", hint: "El rey m√°s sabio de la tierra" },
                { word: "SAUL", hint: "Primer rey de Israel" },
                // ... completar hasta las 100 palabras siguiendo esta estructura
                // --- CONTINUACI√ìN NIVEL F√ÅCIL / MEDIO ---
                // --- NIVEL MEDIO (35-80) ---
                { word: "TABERNACULO", hint: "Lugar de adoraci√≥n m√≥vil en el desierto" },
                { word: "PENTECOSTES", hint: "Venida del Esp√≠ritu Santo con lenguas de fuego" },
                { word: "JERUSALEN", hint: "La ciudad santa" },
                { word: "EXODO", hint: "Salida del pueblo de Israel de Egipto" },
                { word: "APOCALIPSIS", hint: "√öltimo libro de la Biblia" },
                { word: "GENESIS", hint: "El libro de los comienzos" },
                { word: "SINA√ç", hint: "Monte donde Dios dio los 10 mandamientos" },
                { word: "JORDAN", hint: "R√≠o donde fue bautizado Jes√∫s" },
                { word: "NAZARET", hint: "Ciudad donde creci√≥ Jes√∫s" },
                { word: "BELEN", hint: "Lugar donde naci√≥ el Salvador" },
                { word: "GOLGOTA", hint: "Lugar de la crucifixi√≥n" },
                { word: "SAMARITANO", hint: "Protagonista de la par√°bola del hombre bondadoso" },
                { word: "NICODEMO", hint: "L√≠der jud√≠o que visit√≥ a Jes√∫s de noche" },
                { word: "ZAQUEO", hint: "Publicano de baja estatura que subi√≥ a un √°rbol" },
                { word: "MATEO", hint: "Disc√≠pulo que era recaudador de impuestos" },
                { word: "BARTIMEO", hint: "Ciego que grit√≥: ¬°Hijo de David, ten misericordia!" },
                { word: "ESTEBAN", hint: "Primer m√°rtir cristiano" },
                { word: "DORCAS", hint: "Mujer conocida por sus buenas obras y t√∫nicas" },
                { word: "CORNELIO", hint: "Primer centuri√≥n gentil en convertirse" },
                { word: "TIMOTEO", hint: "Joven disc√≠pulo y colaborador de Pablo" },
                { word: "BARNABE", hint: "Su nombre significa 'Hijo de Consolaci√≥n'" },
                { word: "SILAS", hint: "Compa√±ero de Pablo que cant√≥ en la c√°rcel" },
                { word: "AARON", hint: "Hermano de Mois√©s y primer Sumo Sacerdote" },
                { word: "MIRIAM", hint: "Hermana de Mois√©s que tocaba el pandero" },
                { word: "JOSUE", hint: "L√≠der que sucedi√≥ a Mois√©s" },
                { word: "CALEB", hint: "Esp√≠a que junto a Josu√© dio un buen reporte" },
                { word: "DEBORA", hint: "Jueza y profetisa de Israel" },
                { word: "GEDEON", hint: "Derrot√≥ a los madianitas con 300 hombres" },
                { word: "SAMUEL", hint: "Profeta que de ni√±o escuch√≥ la voz de Dios" },
                { word: "JONATAN", hint: "Mejor amigo del rey David" },

                // --- NIVEL AVANZADO / CONCEPTOS (81-100) ---
                { word: "PROVERBIOS", hint: "Libro de sabidur√≠a escrito por Salom√≥n" },
                { word: "SALMOS", hint: "Libro de himnos y oraciones de Israel" },
                { word: "EBENEZER", hint: "Significa: 'Hasta aqu√≠ nos ayud√≥ Jehov√°'" },
                { word: "EMANUEL", hint: "Significa: 'Dios con nosotros'" },
                { word: "ALFA", hint: "Primera letra del alfabeto griego (Principio)" },
                { word: "OMEGA", hint: "√öltima letra del alfabeto griego (Fin)" },
                { word: "SABADO", hint: "D√≠a de reposo establecido en la creaci√≥n" },
                { word: "PROFECIA", hint: "Mensaje de Dios revelado a los hombres" },
                { word: "TESTIMONIO", hint: "Relato de lo que Dios ha hecho en la vida" },
                { word: "REDENCION", hint: "Rescate pagado por nuestra libertad" },
                { word: "GRACIA", hint: "Favor inmerecido de Dios" },
                { word: "JUSTICIA", hint: "Atributo de Dios que da a cada uno lo suyo" },
                { word: "SANTIDAD", hint: "Pureza total y separaci√≥n para Dios" },
                { word: "PARABOLA", hint: "Historia terrenal con un significado celestial" },
                { word: "MILAGRO", hint: "Intervenci√≥n sobrenatural de Dios" },
                { word: "ALTAR", hint: "Lugar de sacrificio y adoraci√≥n" },
                { word: "PASCUA", hint: "Fiesta que conmemora la liberaci√≥n de Egipto" },
                { word: "MANSO", hint: "Jes√∫s dijo: 'Aprended de m√≠ que soy...'" },
                { word: "BEREANOS", hint: "Escudri√±aban las Escrituras cada d√≠a" },
                { word: "MARANATA", hint: "Expresi√≥n que significa: 'El Se√±or viene'" }
            ],
            emojis: [
                { icons: "üö¢ü¶Åüêò‚òÅÔ∏è", ans: "El Arca de No√©", opts: ["El Arca de No√©", "Jon√°s y el Pez", "La Creaci√≥n"] },
                { icons: "üî•üìú‚õ∞Ô∏è‚ö°", ans: "Los 10 Mandamientos", opts: ["Boda de Can√°", "Los 10 Mandamientos", "El√≠as y el fuego"] },
                { icons: "üêãüåäüôèüèΩüßîüèΩ", ans: "Jon√°s", opts: ["Pedro pescador", "Jon√°s", "El Diluvio"] },

                // --- NIVEL F√ÅCIL 1-34 ---
                { icons: "üö¢ü¶ÅüêòüêÜ‚òÅÔ∏è", ans: "El Arca de No√©", opts: ["El Arca de No√©", "La Creaci√≥n", "Jon√°s"] },
                { icons: "üçéüêçüå≥üßîüèªüë©üèª", ans: "El Pecado Original", opts: ["El Jard√≠n", "El Pecado Original", "Ca√≠n y Abel"] },
                { icons: "üî•üìú‚õ∞Ô∏è‚ö°‚òÅÔ∏è", ans: "Los 10 Mandamientos", opts: ["Mois√©s", "Los 10 Mandamientos", "El√≠as"] },
                { icons: "üêãüåäüßîüèΩüôèüèΩ‚öì", ans: "Jon√°s y el Pez", opts: ["Jon√°s y el Pez", "Pedro", "El Diluvio"] },
                { icons: "üëëüèπüë¶üèªü™®üßîüèΩ", ans: "David contra Goliat", opts: ["Sa√∫l", "David contra Goliat", "Gede√≥n"] },
                { icons: "üåàüå§Ô∏èüïäÔ∏èüåø‚õ∞Ô∏è", ans: "La Promesa de Dios", opts: ["El Arco√≠ris", "La Creaci√≥n", "La Promesa de Dios"] },
                { icons: "üçûüç∑‚úùÔ∏èüôèüèΩ‚ú®", ans: "La Santa Cena", opts: ["La Santa Cena", "Bautismo", "Boda de Can√°"] },
                { icons: "üåüüë∂üèªüêÑüêëü§¥üèΩ", ans: "Nacimiento de Jes√∫s", opts: ["Navidad", "Nacimiento de Jes√∫s", "Juan Bautista"] },
                { icons: "üß•üåàüë®‚Äçüë©‚Äçüë¶‚Äçüë¶üåæü•ñ", ans: "Jos√© en Egipto", opts: ["Jos√© en Egipto", "Jacob", "Mois√©s"] },
                { icons: "ü¶Åü¶ÅüßîüèΩüôèüèΩüö´", ans: "Daniel en el Foso", opts: ["Sans√≥n", "Daniel en el Foso", "El√≠as"] },

                // --- NIVEL MEDIO/DIF√çCIL 35-100 ---
                { icons: "üé∫üß±üè∞üôåüèΩüî•", ans: "La Ca√≠da de Jeric√≥", opts: ["Jeric√≥", "La Ca√≠da de Jeric√≥", "Gede√≥n"] },
                { icons: "ü¶µüèΩü¶∂üèΩüè∫üíßüôèüèΩ", ans: "Lavado de Pies", opts: ["Bautismo", "Lavado de Pies", "Servicio"] },
                { icons: "üçØü¶Åüí™üèΩüíáüèª‚Äç‚ôÇÔ∏èüèõÔ∏è", ans: "Historia de Sans√≥n", opts: ["Sans√≥n", "H√©rcules", "David"] },
                { icons: "üî•üåøüë£üêëü§¥üèΩ", ans: "La Zarza Ardiente", opts: ["Mois√©s", "La Zarza Ardiente", "El√≠as"] },
                { icons: "üß∫üåäüë∏üèªüßîüèªüá™üá¨", ans: "Mois√©s en el Nilo", opts: ["Mois√©s en el Nilo", "Nacimiento", "√âxodo"] },
                { icons: "ü•ñü•ñüêüüêüüêüüêüüêü", ans: "Multiplicaci√≥n", opts: ["Pesca milagrosa", "Multiplicaci√≥n", "Cena"] },
                { icons: "ü™úüòá‚ú®üí§üí≠", ans: "La Escalera de Jacob", opts: ["Sue√±o de Jos√©", "La Escalera de Jacob", "Cielo"] },
                { icons: "ü™µüî•üó°Ô∏èüêèüßîüèª‚Äç‚ôÇÔ∏èüë¶üèª", ans: "Sacrificio de Isaac", opts: ["Abraham e Isaac", "Sacrificio de Isaac", "Altar"] },
                { icons: "üßÇüèÉüèª‚Äç‚ôÄÔ∏èüî•üèôÔ∏èüëéüèº", ans: "La Mujer de Lot", opts: ["Sodoma", "La Mujer de Lot", "Sal"] },
                { icons: "üë£üåäüõ∂‚õàÔ∏èüò±", ans: "Jes√∫s camina en el mar", opts: ["Pedro", "Tormenta", "Jes√∫s camina en el mar"] },
                // ... completar hasta las 100 siguiendo esta estructura
                // --- CONTINUACI√ìN NIVEL F√ÅCIL / MEDIO ---
                { icons: "üåç‚ú®üåë‚òÄÔ∏èüåø", ans: "La Creaci√≥n", opts: ["La Creaci√≥n", "El Ed√©n", "El Diluvio"] },
                { icons: "‚õ™üî•üïäÔ∏èüó£Ô∏èüî•", ans: "Pentecost√©s", opts: ["La Ascensi√≥n", "Pentecost√©s", "El Bautismo"] },
                { icons: "üíßüç∑üéâüë∞ü§µ", ans: "Las Bodas de Can√°", opts: ["La Santa Cena", "Las Bodas de Can√°", "Cura del Leproso"] },
                { icons: "üíÄüåØ‚ú®üó£Ô∏èüö∂‚Äç‚ôÇÔ∏è", ans: "Resurrecci√≥n de L√°zaro", opts: ["Resurrecci√≥n de L√°zaro", "Jes√∫s en la tumba", "El buen samaritano"] },
                { icons: "ü§ïüë®‚Äç blind ü§ö‚ú®üëÅÔ∏è", ans: "Curaci√≥n del Ciego", opts: ["Curaci√≥n del Ciego", "Bartimeo", "El Paral√≠tico"] },
                { icons: "üö∂‚Äç‚ôÇÔ∏èüõèÔ∏èüè†‚¨áÔ∏èüôå", ans: "El Paral√≠tico por el techo", opts: ["El Paral√≠tico por el techo", "Zaqueo", "La Pesca milagrosa"] },
                { icons: "üí∞üìâüêñüè†ü´Ç", ans: "El Hijo Pr√≥digo", opts: ["El Sembrador", "El Hijo Pr√≥digo", "El Buen Pastor"] },
                { icons: "ü™úüêëüåæüß•üëë", ans: "Los sue√±os de Jos√©", opts: ["Los sue√±os de Jos√©", "Jacob", "Fara√≥n"] },
                { icons: "üå≥üëÄüßî‚Äç‚ôÇÔ∏èüí∞‚ú®", ans: "Zaqueo", opts: ["Nicodemo", "Zaqueo", "Mateo"] },
                { icons: "üë£üåäüõ∂üôå‚ú®", ans: "La pesca milagrosa", opts: ["La pesca milagrosa", "Jon√°s", "Caminando en el agua"] },

                // --- NIVEL MEDIO / HISTORIAS DEL ANTIGUO TESTAMENTO ---
                { icons: "üêÑüêÑüêÑüåæüåæüåæüá™üá¨", ans: "Sue√±os del Fara√≥n", opts: ["Sue√±os del Fara√≥n", "Plagas de Egipto", "Jos√©"] },
                { icons: "üèúÔ∏èüêçüî•ü™µüôå", ans: "La serpiente de bronce", opts: ["La serpiente de bronce", "Mois√©s", "Aar√≥n"] },
                { icons: "üî®üè∞üèóÔ∏èüö´üó£Ô∏è", ans: "La Torre de Babel", opts: ["La Torre de Babel", "Jeric√≥", "Egipto"] },
                { icons: "üë¶üèπüçØüëëüéµ", ans: "David y Sa√∫l", opts: ["David y Sa√∫l", "Salom√≥n", "Jonathan"] },
                { icons: "üó°Ô∏èüë∂‚öñÔ∏èüë©‚Äçü¶∞üë©", ans: "Sabidur√≠a de Salom√≥n", opts: ["Sabidur√≠a de Salom√≥n", "Juicio Final", "Proverbios"] },
                { icons: "üî•üå™Ô∏è chariot ‚¨ÜÔ∏èüßîüèª‚Äç‚ôÇÔ∏è", ans: "El√≠as sube al cielo", opts: ["El√≠as sube al cielo", "Enoc", "Mois√©s"] },
                { icons: "üêªüêªüßî‚Äç‚ôÇÔ∏èüö´üë¶", ans: "Eliseo y los osos", opts: ["Eliseo y los osos", "David", "Sans√≥n"] },
                { icons: "üî•‚öñÔ∏èü•òü•£‚ú®", ans: "Gede√≥n y la lana", opts: ["Gede√≥n y la lana", "Sans√≥n", "Josu√©"] },
                { icons: "üë∏üëëü§öüî•‚ú°Ô∏è", ans: "Ester salva al pueblo", opts: ["Ester salva al pueblo", "Rut", "D√©bora"] },
                { icons: "üåæüöúüß∫üëµüë©", ans: "Rut y Noem√≠", opts: ["Rut y Noem√≠", "Ester", "Marta y Mar√≠a"] },
                { icons: "üß±üèóÔ∏è‚öîÔ∏èüõ°Ô∏èüèóÔ∏è", ans: "Nehem√≠as reconstruye", opts: ["Nehem√≠as reconstruye", "Esdras", "Templo"] },
                { icons: "ü¶Åüî•üßî‚Äç‚ôÇÔ∏èüëë‚òÄÔ∏è", ans: "Sadrac, Mesac y Abednego", opts: ["Sadrac, Mesac y Abednego", "Daniel", "Ezequiel"] },
                { icons: "üñêÔ∏è‚úçÔ∏èüß±üç∑üëë", ans: "La escritura en la pared", opts: ["La escritura en la pared", "Belsasar", "Nabucodonosor"] },
                { icons: "ü¶¥üíÄüí®üèúÔ∏èüôå", ans: "Valle de huesos secos", opts: ["Valle de huesos secos", "Ezequiel", "Jerem√≠as"] },
                { icons: "üêüü™ôüåäüõ∂üßî", ans: "La moneda en el pez", opts: ["La moneda en el pez", "Pedro", "Milagro"] },

                // --- NIVEL DIF√çCIL / PAR√ÅBOLAS Y CONCEPTOS ---
                { icons: "üå±ü™®üê¶üåæ‚òÄÔ∏è", ans: "Par√°bola del Sembrador", opts: ["El Sembrador", "El Trigo y la Ciza√±a", "La Mostaza"] },
                { icons: "üêëüêëüêë...üê∫...üêë", ans: "La Oveja Perdida", opts: ["La Oveja Perdida", "El Buen Pastor", "El Lobo"] },
                { icons: "üè†‚è≥üå™Ô∏èüß±üèúÔ∏è", ans: "Casa sobre la roca", opts: ["Casa sobre la roca", "El Templo", "Nehem√≠as"] },
                { icons: "üî¶üë∞‚Äç‚ôÄÔ∏èüë∞‚Äç‚ôÄÔ∏èüö´üîã", ans: "Las Diez V√≠rgenes", opts: ["Las Diez V√≠rgenes", "La Boda", "El Aceite"] },
                { icons: "üíéüöúüåæ‚ú®üí∞", ans: "El Tesoro Escondido", opts: ["El Tesoro Escondido", "La Perla", "El Sembrador"] },
                { icons: "üåæüåæüåøüåæüî•üö´", ans: "El Trigo y la Ciza√±a", opts: ["El Trigo y la Ciza√±a", "La Cosecha", "El Juicio"] },
                { icons: "ü™ôüßπüè†‚ú®üòä", ans: "La moneda perdida", opts: ["La moneda perdida", "La viuda", "Zaqueo"] },
                { icons: "üå≥üö´üçéü™ìüî•", ans: "La higuera est√©ril", opts: ["La higuera est√©ril", "El Ed√©n", "Juicio"] },
                { icons: "ü§ïü©πüöëüè®‚ù§Ô∏è", ans: "El Buen Samaritano", opts: ["El Buen Samaritano", "Pedro", "Pablo"] },
                { icons: "üí∞üëêüí∞üëêüí∞üö´", ans: "Par√°bola de los Talentos", opts: ["Los Talentos", "Las Minas", "El Rico"] },

                // --- NUEVO TESTAMENTO / HECHOS Y APOCALIPSIS ---
                { icons: "‚õìÔ∏èüîìüé∏üôèüôå", ans: "Pablo y Silas en la c√°rcel", opts: ["Pablo y Silas en la c√°rcel", "Pedro libre", "Esteban"] },
                { icons: "üèá‚ú®üï∂Ô∏èüßîüèΩ‚Äç‚ôÇÔ∏è‚õ™", ans: "Conversi√≥n de Saulo", opts: ["Conversi√≥n de Saulo", "Pablo en Damasco", "Pedro"] },
                { icons: "üß∫‚õìÔ∏èüß±üèôÔ∏èüèÉ‚Äç‚ôÇÔ∏è", ans: "Escape de Pablo en cesta", opts: ["Escape de Pablo en cesta", "Mois√©s", "Esp√≠as de Jeric√≥"] },
                { icons: "üêçüî•üñêÔ∏èüèùÔ∏èüßîüèΩ‚Äç‚ôÇÔ∏è", ans: "Pablo en Malta", opts: ["Pablo en Malta", "Mois√©s", "Elias"] },
                { icons: "üö¢‚õàÔ∏è‚öìüèùÔ∏èüôå", ans: "Naufragio de Pablo", opts: ["Naufragio de Pablo", "Jon√°s", "Pedro"] },
                { icons: "üìúüêâüó°Ô∏èü¶Åüëë", ans: "Visiones de Daniel", opts: ["Visiones de Daniel", "Apocalipsis", "Ezequiel"] },
                { icons: "üëºüé∫üêéüåëüî•", ans: "Las Trompetas del Juicio", opts: ["Las Trompetas", "El Sello", "Apocalipsis"] },
                { icons: "ü¶ÅüêÇü¶Öüßî‚Äç‚ôÇÔ∏è‚òÅÔ∏è", ans: "Los 4 seres vivientes", opts: ["Los 4 seres vivientes", "Arca de No√©", "Ezequiel"] },
                { icons: "üè∞üíéüèôÔ∏è‚ú®üåà", ans: "La Nueva Jerusal√©n", opts: ["La Nueva Jerusal√©n", "Cielo", "Templo"] },
                { icons: "üêëüõ°Ô∏èüó°Ô∏èüëπüôå", ans: "La Armadura de Dios", opts: ["La Armadura de Dios", "David", "Gede√≥n"] },
                { icons: "üç∑üçûüçáüß∫üçá", ans: "Jes√∫s es la Vid", opts: ["Jes√∫s es la Vid", "La Santa Cena", "El Sembrador"] },
                { icons: "üïØÔ∏èüö´üß∫‚ú®üè†", ans: "La luz debajo del almud", opts: ["La luz debajo del almud", "Pentecost√©s", "Luz del Mundo"] },
                { icons: "üßÇüåçüïØÔ∏èüèôÔ∏è‚õ∞Ô∏è", ans: "Sal y Luz del mundo", opts: ["Sal y Luz del mundo", "Serm√≥n del Monte", "Zaqueo"] },
                { icons: "üê´ü™°üö´üí∞üè∞", ans: "Camello por el ojo de aguja", opts: ["Camello por el ojo de aguja", "El Joven Rico", "Mateo"] },
                { icons: "ü¶∂üåäüõ∂‚öì‚úùÔ∏è", ans: "Pedro camina sobre el agua", opts: ["Pedro camina sobre el agua", "Milagro", "Tormenta"] }

            ]
        };

        let score = 0;
        let currentWord = "";
        let guessedLetters = [];
        let activeGame = "";

        function startMode(mode) {
            playSound('click');
            activeGame = mode;
            document.getElementById('screen-menu').classList.add('hidden');
            if (mode === 'word') {
                document.getElementById('screen-word').classList.remove('hidden');
                initWordGame();
            } else {
                document.getElementById('screen-emoji').classList.remove('hidden');
                initEmojiGame();
            }
        }

        function initWordGame() {
            const data = database.words[Math.floor(Math.random() * database.words.length)];
            currentWord = data.word.toUpperCase();
            guessedLetters = [];
            document.getElementById('wordHint').innerText = "‚Äî Misi√≥n: " + data.hint + " ‚Äî";
            renderWord();
            renderKeyboard();
        }

        function renderWord() {
            const container = document.getElementById('wordDisplay');
            container.innerHTML = "";
            currentWord.split('').forEach(l => {
                const box = document.createElement('div');
                box.className = `letter-box ${guessedLetters.includes(l) ? 'letter-pop' : ''}`;
                box.innerText = guessedLetters.includes(l) ? l : "";
                container.appendChild(box);
            });
            if (currentWord.split('').every(l => guessedLetters.includes(l))) win();
        }

        function renderKeyboard() {
            const kb = document.getElementById('keyboard');
            kb.innerHTML = "";
            "ABCDEFGHIJKLMN√ëOPQRSTUVWXYZ".split('').forEach(l => {
                const b = document.createElement('button');
                b.className = "btn-pro bg-slate-800 p-3 rounded-xl font-bold text-xs hover:bg-cyan-500 hover:text-slate-900 border border-slate-700 transition-all";
                b.innerText = l;
                b.onclick = () => {
                    if (!guessedLetters.includes(l)) {
                        guessedLetters.push(l);
                        b.style.opacity = "0.2";
                        b.disabled = true;
                        if (currentWord.includes(l)) {
                            playSound('click');
                            renderWord();
                        } else {
                            playSound('error');
                            document.getElementById('screen-word').classList.add('shake');
                            setTimeout(() => document.getElementById('screen-word').classList.remove('shake'), 500);
                        }
                    }
                };
                kb.appendChild(b);
            });
        }

        function initEmojiGame() {
            const data = database.emojis[Math.floor(Math.random() * database.emojis.length)];
            document.getElementById('emojiDisplay').innerText = data.icons;
            const container = document.getElementById('emojiOptions');
            container.innerHTML = "";
            data.opts.sort(() => Math.random() - 0.5).forEach(o => {
                const b = document.createElement('button');
                b.className = "btn-pro glass p-6 rounded-2xl font-black text-left hover:bg-cyan-500/20 border border-slate-700 group transition-all";
                b.innerHTML = `<span class="text-cyan-400 mr-4 group-hover:text-white">‚óè</span> ${o}`;
                b.onclick = () => {
                    if (o === data.ans) win();
                    else {
                        playSound('error');
                        showToast("¬°Incorrecto! Intenta de nuevo");
                    }
                };
                container.appendChild(b);
            });
        }

        function win() {
            score += 500;
            document.getElementById('scoreDisplay').innerText = score.toString().padStart(4, '0');
            playSound('win');
            confetti({
                particleCount: 200, spread: 80, origin: { y: 0.6 },
                colors: ['#00f2ff', '#fbbf24', '#ffffff']
            });
            document.getElementById('modal').classList.remove('hidden');
        }

        function nextLevel() {
            document.getElementById('modal').classList.add('hidden');
            if (activeGame === 'word') initWordGame();
            else initEmojiGame();
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            t.innerText = m;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }

        function exitToMenu() {
            location.reload();
        }
    </script>
</body>

</html>