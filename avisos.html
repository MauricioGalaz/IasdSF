<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Avisos - IASD Limache</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&family=Open+Sans:wght@400;700&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        adventist: {
                            blue: '#00305e',
                            gold: '#fec325',
                            light: '#f8fafc',
                            green: '#1b5e20',
                            red: '#b71c1c',
                            orange: '#e65100'
                        }
                    },
                    fontFamily: {
                        sans: ['Open Sans', 'sans-serif'],
                        heading: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
            width: 100%;
        }

        .hover-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @media (min-width: 768px) {
            .hover-card:hover {
                transform: translateY(-8px);
            }
        }

        #mobile-menu {
            transition: all 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }

        #mobile-menu.open {
            max-height: 300px;
            padding: 1rem 0;
        }

        /* Esto asegura que el bot√≥n de eliminar resalte sobre cualquier fondo */
        .btn-eliminar-aviso {
            position: absolute !important;
            top: 10px !important;
            right: 10px !important;
            background-color: #ff0000 !important;
            /* Rojo puro */
            color: white !important;
            width: 45px !important;
            height: 45px !important;
            border-radius: 50% !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            z-index: 999 !important;
            border: 3px solid white !important;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3) !important;
            cursor: pointer;
        }
    </style>
</head>

<body class="bg-slate-100 font-sans text-slate-900">

    <nav class="bg-adventist-blue text-white sticky top-0 z-[100] shadow-2xl border-b border-white/10">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center space-x-4 group">
                <div class="relative">
                    <div
                        class="h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full overflow-hidden border-4 border-[#fec325] shadow-[0_0_20px_rgba(254,195,37,0.5)] flex items-center justify-center transition-transform group-hover:scale-110">
                        <img src="imagenes/logo.jpg" class="h-full w-full object-cover">
                    </div>
                </div>

                <span
                    class="font-heading font-black text-[11px] sm:text-sm leading-tight uppercase tracking-[0.2em] text-white drop-shadow-[0_2px_2px_rgba(0,0,0,1)]">
                    IASD San Francisco<br>
                    <span class="text-[#fec325] filter drop-shadow-[0_1px_1px_rgba(0,0,0,1)]">de Limache</span>
                </span>
            </a>

            <button id="menu-btn" class="md:hidden text-2xl p-2">
                <i class="fas fa-bars"></i>
            </button>

            <div class="hidden md:flex items-center gap-6 font-bold text-xs uppercase tracking-widest">
                <a href="index.html" class="hover:text-adventist-gold transition">Inicio</a>
                <a href="cronograma.html" class="hover:text-adventist-gold transition">Cronograma</a>
                <a href="contactoaviso.html"
                    class="bg-adventist-gold text-adventist-blue px-4 py-2 rounded-full hover:bg-white transition">Contacto</a>
            </div>
        </div>

        <div id="mobile-menu"
            class="md:hidden bg-adventist-blue px-4 flex flex-col gap-4 font-bold text-center border-t border-white/10">
            <a href="index.html" class="py-2 border-b border-white/5">Inicio</a>
            <a href="cronograma.html" class="py-2 border-b border-white/5">Cronograma</a>
            <a href="contactoaviso.html" class="py-2 text-adventist-gold">Contacto</a>
        </div>
    </nav>

    <header
        class="w-full bg-adventist-blue text-white pt-10 pb-20 px-4 text-center rounded-b-[3rem] md:rounded-b-[5rem] shadow-2xl relative overflow-hidden">
        <div class="relative z-10">
            <span
                class="inline-block bg-white/10 backdrop-blur-sm text-adventist-gold px-6 py-1 rounded-full font-black text-[10px] md:text-xs uppercase tracking-[0.3em] mb-4 border border-white/20">
                BIENVENIDOS
            </span>
            <h1 class="text-4xl md:text-8xl font-heading font-black tracking-tighter leading-none mb-4 uppercase">
                AVISOS DE <br> <span class="text-adventist-gold">IGLESIA</span>
            </h1>
            <p
                class="text-sm md:text-3xl font-bold opacity-90 tracking-widest uppercase italic border-t border-white/20 inline-block pt-4 mt-2">
                S√°bado 10 de Enero 2026
            </p>
        </div>
    </header>

    <div class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">
        <main class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">
            <div id="contenedor-avisos-dinamicos" class="space-y-8 md:space-y-12">
            </div>


            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-green-600 rounded-[2.5rem] md:rounded-[3.5rem] p-6 md:p-12 shadow-2xl text-center overflow-hidden">

                <div class="relative w-full h-48 md:h-96 mb-8 rounded-[2rem] overflow-hidden shadow-inner bg-slate-100">
                    <img id="imgPaseo" src="paseo/p1.jpg"
                        class="w-full h-full object-cover transition-opacity duration-1000" style="opacity: 1;"
                        alt="Fotos del paseo">

                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-4 py-1 rounded-full shadow-lg">
                        <span class="text-[10px] md:text-sm font-black text-green-700 uppercase tracking-widest">Pr√≥xima
                            Aventura</span>
                    </div>
                </div>

                <i class="fas fa-bus-alt text-5xl md:text-8xl text-green-600 mb-6 animate-bounce"></i>

                <h2 class="text-3xl md:text-7xl font-black text-slate-800 leading-none mb-6 uppercase">
                    Paseo de<br><span class="text-green-600">Iglesia</span>
                </h2>

                <div
                    class="inline-block bg-green-600 text-white px-8 py-3 md:px-12 md:py-5 rounded-2xl md:rounded-3xl font-black text-xl md:text-4xl shadow-xl transform hover:scale-105 transition-transform">
                    22 DE FEBRERO 2026
                </div>

                <p class="mt-6 md:mt-8 text-slate-500 text-sm md:text-2xl font-bold italic uppercase tracking-wide">
                    ¬°¬°CUPOS LIMITADOS (SOLO 80)!!
                </p>

                <div class="w-24 h-1 bg-green-600 mx-auto mt-6 rounded-full opacity-30"></div>
            </section>

            <script>
                    // L√≥gica del Carrusel de Fotos del Paseo
                    (function () {
                        const fotosPaseo = ["imagenes/paseo/p1.jpg", "imagenes/paseo/p2.jpg", "imagenes/paseo/p3.jpg"];
                        let i = 0;
                        const imgElement = document.getElementById("imgPaseo");

                        setInterval(() => {
                            if (imgElement) {
                                // Efecto de desvanecimiento
                                imgElement.style.opacity = "0";

                                setTimeout(() => {
                                    i = (i + 1) % fotosPaseo.length;
                                    imgElement.src = fotosPaseo[i];
                                    imgElement.style.opacity = "1";
                                }, 1000); // Tiempo para cambiar la imagen mientras est√° invisible
                            }
                        }, 5000); // Cambia cada 5 segundos
                    })();
            </script>

            <section
                class="relative overflow-hidden bg-slate-100 border-t-[16px] md:border-t-[20px] border-adventist-blue rounded-[3rem] p-4 md:p-10 shadow-2xl text-center">

                <h2
                    class="text-5xl md:text-8xl font-heading font-black text-slate-900 leading-none mb-2 uppercase tracking-tighter">
                    √âXODO
                    <span class="block text-xl md:text-4xl text-adventist-blue tracking-widest mt-1">EL GRAN
                        EVENTO</span>
                </h2>

                <p
                    class="bg-adventist-blue text-adventist-gold inline-block px-8 py-2 rounded-2xl font-black text-xl md:text-4xl italic shadow-lg mb-8 transform -rotate-1 border-b-4 border-adventist-gold">
                    S√ÅBADO 10 -- 19:00 HRS
                </p>

                <div class="mb-10 relative max-w-3xl mx-auto">
                    <div
                        class="bg-red-600 text-white p-6 md:p-8 rounded-[2.5rem] border-4 border-dashed border-white/40 shadow-xl relative overflow-hidden">
                        <div
                            class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full animate-[shimmer_2s_infinite]">
                        </div>

                        <h3
                            class="text-2xl md:text-5xl font-black uppercase mb-2 [text-shadow:_2px_2px_0_rgba(0,0,0,0.3)]">
                            ‚ö†Ô∏è AVISO IMPORTANTE ‚ö†Ô∏è</h3>
                        <p class="text-lg md:text-3xl font-bold mb-3">
                            TRAE TU <span class="text-yellow-300 underline decoration-2">AMIGO DE ESPERANZA</span>
                        </p>
                        <p class="text-4xl md:text-6xl font-black text-yellow-200 drop-shadow-xl uppercase">Ministerio
                            de M√∫sica</p>
                    </div>
                </div>

                <div class="relative mx-auto max-w-2xl mb-12 group">
                    <div
                        class="bg-[#4e342e] p-6 md:p-10 rounded-[4rem] shadow-[0_25px_0_0_#2d1d1a] border-t-8 border-l-8 border-white/5 relative">

                        <div
                            class="relative bg-black rounded-[2.5rem] overflow-hidden border-[15px] md:border-[20px] border-slate-900 shadow-[inset_0_0_50px_rgba(0,0,0,1)] aspect-video flex items-center justify-center">

                            <video
                                class="w-full h-full object-cover scale-125 transition-transform duration-700 group-hover:scale-110"
                                style="object-position: center 30%;" autoplay loop controls playsinline>
                                <source src="imagenes/avisos/exodovideo.mp4" type="video/mp4">
                                Tu navegador no soporta video.
                            </video>

                            <div
                                class="absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-black/20 pointer-events-none z-10">
                            </div>
                            <div
                                class="absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%),linear-gradient(90deg,rgba(255,0,0,0.03),rgba(0,255,0,0.01),rgba(0,0,255,0.03))] bg-[length:100%_4px,3px_100%] pointer-events-none">
                            </div>
                        </div>

                        <div class="flex justify-between items-center mt-8 px-6">
                            <div class="flex flex-col items-start gap-1">
                                <div class="flex items-center gap-3">
                                    <div class="w-4 h-4 rounded-full bg-red-600 shadow-[0_0_15px_red] animate-pulse">
                                    </div>
                                    <span
                                        class="text-xs md:text-sm text-white/60 font-mono tracking-widest uppercase">High
                                        Definition Retro</span>
                                </div>
                                <div class="w-32 h-2 bg-black/40 rounded-full mt-2"></div>
                            </div>

                            <div class="flex gap-6">
                                <div
                                    class="w-12 h-12 rounded-full bg-gradient-to-tr from-black to-[#3e2723] border-2 border-white/10 shadow-xl flex items-center justify-center">
                                    <div class="w-1 h-4 bg-white/20 rounded-full transform rotate-45"></div>
                                </div>
                                <div
                                    class="w-12 h-12 rounded-full bg-gradient-to-tr from-black to-[#3e2723] border-2 border-white/10 shadow-xl flex items-center justify-center">
                                    <div class="w-1 h-4 bg-white/20 rounded-full transform -rotate-12"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-around px-20 -mt-2">
                        <div class="w-8 h-12 bg-[#2d1d1a] rounded-b-2xl shadow-2xl"></div>
                        <div class="w-8 h-12 bg-[#2d1d1a] rounded-b-2xl shadow-2xl"></div>
                    </div>
                </div>

                <div class="max-w-xs mx-auto mt-4 transform hover:scale-110 transition-all duration-500 cursor-pointer">
                    <div class="bg-white p-4 shadow-2xl rounded-sm border-b-4 border-adventist-blue">
                        <img src="imagenes/avisos/exodo.jpeg" alt="Tarjeta √âxodo" class="w-full rounded-sm mb-2">
                        <p class="font-black text-adventist-blue text-sm uppercase">Pase de Invitado Especial</p>
                        <p class="text-[10px] text-slate-400 font-bold"></p>
                    </div>
                </div>

            </section>

            <style>
                @keyframes shimmer {
                    100% {
                        transform: translateX(100%);
                    }
                }
            </style>
            </section>


            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-adventist-gold rounded-[2.5rem] md:rounded-[3.5rem] p-6 md:p-12 shadow-2xl text-center">
                <i class="fas fa-hands-praying text-6xl md:text-9xl text-adventist-gold mb-6 animate-pulse"></i>
                <h2 class="text-3xl md:text-8xl font-heading font-black text-slate-800 leading-none mb-6 uppercase">
                    ORACI√ìN<br>INTERCESORA
                </h2>
                <div
                    class="inline-block bg-adventist-gold text-adventist-blue px-8 py-3 md:px-10 md:py-4 rounded-2xl md:rounded-3xl font-black text-xl md:text-4xl shadow-xl">
                    S√ÅBADO 10 DE ENERO 2026 <br> 17:30 HRS
                </div>
                <p class="mt-6 md:mt-8 text-slate-500 text-sm md:text-2xl font-bold italic uppercase tracking-wide">
                    !!NO FALTES A ESTA CITA CON DIOS !!


            </section>
            <section
                class="max-w-4xl mx-auto my-10 p-1 bg-gradient-to-br from-adventist-blue to-blue-900 rounded-[3.5rem] shadow-[0_35px_60px_-15px_rgba(0,48,94,0.4)] overflow-hidden">

                <div
                    class="glass-modal p-8 md:p-12 rounded-[3.3rem] flex flex-col lg:flex-row items-center justify-between gap-8 relative overflow-hidden">

                    <div class="absolute -top-24 -left-24 w-64 h-64 bg-adventist-gold opacity-10 rounded-full blur-3xl">
                    </div>

                    <div class="flex flex-col md:flex-row items-center gap-8 w-full lg:w-auto relative z-10">
                        <div class="relative">
                            <div
                                class="absolute inset-0 bg-adventist-gold rounded-full blur-2xl opacity-20 animate-pulse">
                            </div>
                            <div
                                class="bg-adventist-blue text-adventist-gold w-28 h-28 md:w-32 md:h-32 rounded-[2.5rem] flex items-center justify-center shadow-2xl border-2 border-adventist-gold/30 relative">
                                <i class="fas fa-praying-hands text-5xl md:text-6xl"></i>
                            </div>
                        </div>

                        <div class="text-center md:text-left space-y-3">
                            <span
                                class="bg-adventist-gold/20 text-adventist-gold px-4 py-1 rounded-full text-xs font-black uppercase tracking-[0.3em]">Cita
                                con Dios</span>
                            <h3
                                class="font-heading font-black text-adventist-blue text-4xl md:text-5xl uppercase tracking-tighter italic leading-none">
                                Oraci√≥n<br>Intercesora</h3>

                            <div class="flex flex-col gap-1">
                                <div class="flex items-center justify-center md:justify-start gap-3 text-adventist-oro">
                                    <i class="fas fa-calendar-day text-2xl"></i>
                                    <span class="font-black text-2xl uppercase">S√°bado 10 de Enero</span>
                                </div>
                                <div class="flex items-center justify-center md:justify-start gap-3 text-slate-500">
                                    <i class="fas fa-clock text-xl"></i>
                                    <span
                                        class="font-bold text-xl italic underline decoration-adventist-gold decoration-2">Desde
                                        las 17:30 hrs</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="w-full lg:w-auto relative z-10">
                        <a href="https://egwwritings.org/book/b115?lang=es" target="_blank"
                            class="shimmer-effect w-full group bg-adventist-gold hover:bg-yellow-400 text-adventist-blue px-10 py-7 rounded-[2rem] font-black uppercase tracking-widest flex flex-col items-center justify-center gap-2 transition-all duration-500 shadow-[0_20px_40px_-10px_rgba(254,195,37,0.5)] hover:-translate-y-2 border-b-8 border-yellow-600">
                            <i class="fas fa-book-reader text-3xl group-hover:scale-125 transition-transform"></i>
                            <span class="text-[10px] opacity-80">Descargar Material</span>
                            <span class="text-lg leading-none">LIBRO DIGITAL</span>
                        </a>
                        <p class="text-center text-slate-400 text-[9px] font-bold uppercase mt-4 tracking-tighter">"La
                            Oraci√≥n" de Elena G. de White</p>
                    </div>
                </div>
            </section>

            <style>
                /* Efecto Shimmer m√°s agresivo y r√°pido */
                .shimmer-effect {
                    position: relative;
                    overflow: hidden;
                }

                .shimmer-effect::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -150%;
                    width: 60%;
                    height: 100%;
                    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.7), transparent);
                    transform: skewX(-25deg);
                    animation: shine 2.2s infinite;
                }

                @keyframes shine {
                    from {
                        left: -150%;
                    }

                    to {
                        left: 250%;
                    }
                }

                .glass-modal {
                    background: rgba(255, 255, 255, 0.98);
                    backdrop-filter: blur(20px);
                }
            </style>

            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-adventist-gold rounded-[2.5rem] p-6 md:p-10 shadow-xl text-center">
                <i class="fas fa-medal text-5xl md:text-6xl text-adventist-gold mb-6"></i>
                <h2 class="text-2xl md:text-5xl font-heading font-black text-slate-800 leading-tight mb-6 uppercase">
                    ENERO 2026
                    INVESTIDURA DE CIERRE CLUB DE AVENTUREROS</h2>
                <div
                    class="bg-slate-100 p-4 md:p-6 rounded-2xl md:rounded-[2rem] inline-flex items-center gap-3 md:gap-4">
                    <span class="text-gray-500 font-bold text-sm md:text-xl uppercase tracking-widest">
                        <p class="text-3xl md:text-6xl font-black uppercase tracking-tighter">S√°bado 17 de Enero - 18:00
                            HRS
                        </p>
                    </span>
                </div>
            </section>

            <section
                class="hover-card bg-red-50 border-t-[12px] border-adventist-red rounded-[3rem] p-10 shadow-xl text-center relative overflow-hidden">
                <div class="absolute top-5 left-5 opacity-10 text-adventist-red text-8xl -rotate-12">
                    <i class="fas fa-calendar-times"></i>
                </div>
                <h2 class="text-4xl md:text-7xl font-heading font-black text-adventist-red leading-none mb-4 uppercase">
                    CULTO JA</h2>

                <div class="bg-adventist-red text-white py-6 rounded-[2rem] shadow-2xl transform -rotate-1">
                    <p class="text-3xl md:text-6xl font-black uppercase tracking-tighter">PROXIMAMENTE<br> RETOMAREMOS
                        NUESTRO CULTO JA
                    </p>
                </div>
            </section>

            <section
                class="hover-card bg-slate-900 rounded-[2.5rem] p-8 md:p-10 shadow-4xl text-center text-white border-b-[10px] md:border-b-[12px] border-adventist-gold">
                <p class="text-lg md:text-3xl font-heading font-black uppercase mb-6 leading-tight">Anciano de Turno -
                    Enero</p>
                <h2
                    class="text-3xl md:text-7xl font-heading font-black uppercase italic tracking-tighter leading-tight">
                    HNO <br> MAURICIO GALAZ
                </h2>
            </section>

        </main>

        <footer class="bg-[#0f172a] py-10 border-t border-white/10 text-center">
            <div class="container mx-auto px-6">
                <div class="flex justify-center space-x-6 mb-6">
                    <a href="#" class="text-white/40 hover:text-adventist-gold transition"><i
                            class="fab fa-facebook-f fa-lg"></i></a>
                    <a href="#" class="text-white/40 hover:text-adventist-gold transition"><i
                            class="fab fa-instagram fa-lg"></i></a>
                    <a href="#" class="text-white/40 hover:text-adventist-gold transition"><i
                            class="fab fa-youtube fa-lg"></i></a>
                </div>
                <p class="font-black text-adventist-gold text-xl uppercase tracking-widest italic mb-2">
                    IASD SAN FRANCISCO DE LIMACHE
                </p>
                <p class="text-[10px] text-white/30 uppercase tracking-[0.3em] font-bold">
                    ¬© 2026 ‚Ä¢ Dise√±ado por Mauricio Galaz Estay
                </p>
            </div>
        </footer>

        <button id="btnTop"
            class="hidden fixed bottom-6 right-6 bg-adventist-blue text-white w-12 h-12 md:w-14 md:h-14 rounded-2xl shadow-2xl z-[100] items-center justify-center">
            <i class="fas fa-chevron-up"></i>
        </button>

        <script>
            // L√≥gica del Men√∫ M√≥vil
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('open');
                const icon = menuBtn.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });

            // L√≥gica Bot√≥n Volver Arriba
            const btnTop = document.getElementById("btnTop");
            window.addEventListener("scroll", () => {
                if (window.scrollY > 500) {
                    btnTop.classList.remove("hidden");
                    btnTop.classList.add("flex");
                } else {
                    btnTop.classList.add("hidden");
                    btnTop.classList.remove("flex");
                }
            });
            btnTop.addEventListener("click", () => {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        </script>

        <main class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">

            <div id="contenedor-avisos-dinamicos" class="space-y-8 md:space-y-12">
            </div>

            <section class="mt-20 pt-10 border-t border-slate-200">
                <div class="flex flex-col items-center gap-4">
                    <button onclick="toggleAdminPanel()"
                        class="text-slate-300 hover:text-adventist-blue text-[10px] font-black uppercase tracking-[0.4em] transition-all">
                        <i class="fas fa-lock-open mr-2"></i> Gesti√≥n de Muro
                    </button>

                    <div id="admin-panel"
                        class="hidden flex flex-col items-center gap-3 bg-white p-8 rounded-[2.5rem] shadow-2xl border border-slate-100 max-w-sm w-full">
                        <p class="text-[9px] font-black text-adventist-blue uppercase tracking-widest mb-2">Clave
                            Maestra para Editar</p>
                        <input type="password" id="admin-pass" placeholder="Contrase√±a"
                            class="bg-slate-50 px-6 py-3 rounded-2xl text-center focus:ring-2 focus:ring-adventist-gold outline-none w-full shadow-inner font-bold">
                        <div class="flex gap-2 w-full">
                            <button onclick="activarEdicion()"
                                class="flex-1 bg-adventist-blue text-white py-3 rounded-xl font-black text-[10px] uppercase shadow-lg">Activar</button>
                            <button onclick="borrarTodoMuro()"
                                class="flex-1 bg-red-600 text-white py-3 rounded-xl font-black text-[10px] uppercase shadow-lg">Limpiar</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
            import {
                getFirestore,
                collection,
                query,
                orderBy,
                onSnapshot,
                deleteDoc,
                updateDoc,
                doc
            } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

            /* ================= FIREBASE ================= */
            const firebaseConfig = {
                apiKey: "AIzaSyAoC_7Pehjca4CQSoy0K3Rm5q9CC-IY1Ic",
                authDomain: "iasd-limache-muro.firebaseapp.com",
                projectId: "iasd-limache-muro",
                messagingSenderId: "277039117234",
                appId: "1:277039117234:web:65f4e76064935cadabaaab"
            };

            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);

            navigator.serviceWorker.register("/firebase-messaging-sw.js");

            Notification.requestPermission().then(async permission => {
                if (permission === "granted") {
                    const token = await getToken(messaging, {
                        vapidKey: "TU_VAPID_KEY_AQUI"
                    });
                    console.log("üîî Token push:", token);
                }
            });

            /* ================= CONFIG ================= */
            const ADMIN_PASS = "iasd26";
            let modoEdicionActivo = true; // Modo edici√≥n activado por defecto para pruebas


            /* ================= HELPERS ================= */
            const $ = (id) => document.getElementById(id);

            const escapeHTML = (str = "") =>
                str.replace(/[&<>"']/g, m =>
                    ({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }[m])
                );

            const estaExpirado = (aviso) =>
                aviso.expira && aviso.expira.toDate().getTime() < Date.now();

            /* ================= ADMIN ================= */
            window.toggleAdminPanel = () => $("admin-panel")?.classList.toggle("hidden");

            window.activarEdicion = () => {
                const pass = $("admin-pass").value.trim();
                if (pass === ADMIN_PASS) {
                    modoEdicionActivo = true;
                    $("admin-panel").classList.add("hidden");
                    alert("‚úÖ Modo administrador activado");
                } else {
                    alert("‚ùå Clave incorrecta");
                }
            };

            /* ================= CRUD ================= */
            window.eliminarAviso = async (id) => {
                if (!modoEdicionActivo) {
                    alert("‚ùå Modo administrador no activo");
                    return;
                }

                if (!confirm("¬øEliminar este aviso permanentemente?")) return;

                try {
                    await deleteDoc(doc(db, "avisos", id));
                    console.log("Aviso eliminado:", id);
                } catch (error) {
                    console.error("ERROR DELETE:", error);
                    alert("‚ùå Firestore bloque√≥ la eliminaci√≥n (reglas)");
                }
            };


            window.editarAviso = async (id, textoActual) => {
                if (!modoEdicionActivo) return;

                const nuevo = prompt("‚úèÔ∏è Editar aviso:", textoActual);
                if (nuevo && nuevo.trim().length > 3) {
                    await updateDoc(doc(db, "avisos", id), {
                        mensaje: nuevo.trim()
                    });
                }
            };

            /* ================= RENDER ================= */
            const contenedor = $("contenedor-avisos-dinamicos");

            const q = query(collection(db, "avisos"), orderBy("timestamp", "desc"));


            onSnapshot(q, (snapshot) => {
                contenedor.innerHTML = "";

                if (snapshot.empty) {
                    contenedor.innerHTML = `
        <div class="text-center p-10 bg-white/50 rounded-3xl border-2 border-dashed border-slate-300">
        <p class="text-slate-400 font-bold uppercase tracking-widest text-sm">
            No hay avisos nuevos de los l√≠deres todav√≠a
        </p>
        </div>`;
                    return;
                }

                const fragment = document.createDocumentFragment();

                snapshot.forEach((docSnap) => {
                    const a = docSnap.data();
                    if (estaExpirado(a)) return;

                    const section = document.createElement("section");
                    section.className =
                        "relative bg-white border-t-[12px] md:border-t-[16px] border-adventist-blue rounded-[2.5rem] md:rounded-[3.5rem] p-6 md:p-12 shadow-2xl transition-all hover:scale-[1.01]";

                    section.innerHTML = `
        ${modoEdicionActivo ? `
        <button onclick="eliminarAviso('${docSnap.id}')" class="btn-eliminar-aviso">
            <i class="fas fa-trash-alt"></i>
        </button>
        <button onclick="editarAviso('${docSnap.id}', '${escapeHTML(a.mensaje)}')"
            class="absolute top-4 left-4 bg-adventist-gold text-adventist-blue w-10 h-10 rounded-full flex items-center justify-center shadow-xl border-4 border-white z-50">
            <i class="fas fa-pen"></i>
        </button>
        ` : ""}

        <div class="flex justify-between mb-6">
        <span class="bg-adventist-blue text-white text-[10px] font-black px-4 py-1 rounded-full uppercase tracking-widest">
            ${escapeHTML(a.departamento)}
        </span>
        <span class="text-[10px] font-black text-slate-300 uppercase">
            ${a.fecha || ""}
        </span>
        </div>

        <div class="text-center">
        <h2 class="text-2xl md:text-5xl font-heading font-black text-slate-800 leading-tight mb-8 uppercase italic">
            "${escapeHTML(a.mensaje)}"
        </h2>

        <div class="flex flex-col md:flex-row items-center justify-center gap-6 border-t border-slate-100 pt-8">
            <p class="text-slate-400 font-bold text-xs uppercase tracking-widest">
            <i class="fas fa-user-circle mr-1 text-adventist-blue"></i>
            L√çDER: ${escapeHTML(a.lider)}
            </p>

            <button onclick="compartirWhatsApp('${escapeHTML(a.mensaje)}','${escapeHTML(a.departamento)}')"
            class="bg-[#25d366] text-white px-6 py-2 rounded-full font-black text-[10px] uppercase shadow-lg flex items-center gap-2">
            <i class="fab fa-whatsapp"></i> COMPARTIR
            </button>
        </div>
        </div>
    `;

                    fragment.appendChild(section);
                });

                contenedor.appendChild(fragment);
            });

            /* ================= WHATSAPP ================= */
            window.compartirWhatsApp = (mensaje, depto) => {
                const texto = `üì¢ Aviso de ${depto}:\n\n"${mensaje}"\n\nIASD San Francisco de Limache`;
                window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(texto)}`, "_blank");
            };
        </script>

</html>