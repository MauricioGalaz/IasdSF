<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Avisos - IASD Limache</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&family=Open+Sans:wght@400;700&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        adventist: {
                            blue: '#00305e',
                            gold: '#fec325',
                            light: '#f8fafc',
                            green: '#1b5e20',
                            red: '#b71c1c',
                            orange: '#e65100'
                        }
                    },
                    fontFamily: {
                        sans: ['Open Sans', 'sans-serif'],
                        heading: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
            width: 100%;
        }

        .hover-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @media (min-width: 768px) {
            .hover-card:hover {
                transform: translateY(-8px);
            }
        }

        #mobile-menu {
            transition: all 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }

        #mobile-menu.open {
            max-height: 300px;
            padding: 1rem 0;
        }

        /* Esto asegura que el bot√≥n de eliminar resalte sobre cualquier fondo */
        .btn-eliminar-aviso {
            position: absolute !important;
            top: 10px !important;
            right: 10px !important;
            background-color: #ff0000 !important;
            /* Rojo puro */
            color: white !important;
            width: 45px !important;
            height: 45px !important;
            border-radius: 50% !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            z-index: 999 !important;
            border: 3px solid white !important;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3) !important;
            cursor: pointer;
        }
    </style>
</head>

<body class="bg-slate-100 font-sans text-slate-900">

    <nav class="bg-adventist-blue text-white sticky top-0 z-[100] shadow-2xl border-b border-white/10">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center space-x-4 group">
                <div class="relative">
                    <div
                        class="h-16 w-16 sm:h-20 sm:w-20 bg-white rounded-full overflow-hidden border-4 border-[#fec325] shadow-[0_0_20px_rgba(254,195,37,0.5)] flex items-center justify-center transition-transform group-hover:scale-110">
                        <img src="imagenes/logo.jpg" class="h-full w-full object-cover">
                    </div>
                </div>

                <span
                    class="font-heading font-black text-[11px] sm:text-sm leading-tight uppercase tracking-[0.2em] text-white drop-shadow-[0_2px_2px_rgba(0,0,0,1)]">
                    IASD San Francisco<br>
                    <span class="text-[#fec325] filter drop-shadow-[0_1px_1px_rgba(0,0,0,1)]">de Limache</span>
                </span>
            </a>

            <button id="menu-btn" class="md:hidden text-2xl p-2">
                <i class="fas fa-bars"></i>
            </button>

            <div class="hidden md:flex items-center gap-6 font-bold text-xs uppercase tracking-widest">
                <a href="index.html" class="hover:text-adventist-gold transition">Inicio</a>
                <a href="cronograma.html" class="hover:text-adventist-gold transition">Cronograma</a>
                <a href="contactoaviso.html"
                    class="bg-adventist-gold text-adventist-blue px-4 py-2 rounded-full hover:bg-white transition">Contacto</a>
            </div>
        </div>

        <div id="mobile-menu"
            class="md:hidden bg-adventist-blue px-4 flex flex-col gap-4 font-bold text-center border-t border-white/10">
            <a href="index.html" class="py-2 border-b border-white/5">Inicio</a>
            <a href="cronograma.html" class="py-2 border-b border-white/5">Cronograma</a>
            <a href="contactoaviso.html" class="py-2 text-adventist-gold">Contacto</a>
        </div>
    </nav>

    <header
        class="w-full bg-adventist-blue text-white pt-10 pb-20 px-4 text-center rounded-b-[3rem] md:rounded-b-[5rem] shadow-2xl relative overflow-hidden">
        <div class="relative z-10">
            <span
                class="inline-block bg-white/10 backdrop-blur-sm text-adventist-gold px-6 py-1 rounded-full font-black text-[10px] md:text-xs uppercase tracking-[0.3em] mb-4 border border-white/20">
                BIENVENIDOS
            </span>
            <h1 class="text-4xl md:text-8xl font-heading font-black tracking-tighter leading-none mb-4 uppercase">
                AVISOS DE <br> <span class="text-adventist-gold">IGLESIA</span>
            </h1>
            <p
                class="text-sm md:text-3xl font-bold opacity-90 tracking-widest uppercase italic border-t border-white/20 inline-block pt-4 mt-2">
                S√°bado 03 de Enero 2026
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">
        <main class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">
            <div id="contenedor-avisos-dinamicos" class="space-y-8 md:space-y-12">
            </div>


            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-adventist-green rounded-[2.5rem] md:rounded-[3.5rem] p-6 md:p-16 shadow-2xl text-center">
                <i class="fas fa-bus-alt text-6xl md:text-9xl text-adventist-green mb-6 animate-bounce"></i>
                <h2 class="text-3xl md:text-8xl font-heading font-black text-slate-800 leading-none mb-6">PASEO DE
                    <br>IGLESIA
                </h2>
                <div
                    class="inline-block bg-adventist-green text-white px-8 py-3 md:px-10 md:py-4 rounded-2xl md:rounded-3xl font-black text-xl md:text-4xl shadow-xl">
                    22 DE FEBRERO 2026
                </div>
                <p class="mt-6 md:mt-8 text-slate-500 text-sm md:text-2xl font-bold italic uppercase tracking-wide">
                    !!CUPOS LIMITADOS!!</p>
            </section>

            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-adventist-blue rounded-[2.5rem] p-6 md:p-10 shadow-xl text-center">
                <i class="fas fa-hands-praying text-5xl md:text-6xl text-adventist-blue mb-6"></i>

                <h2 class="text-2xl md:text-7xl font-heading font-black text-slate-800 leading-none mb-4 uppercase">
                    JUNTA ADMINISTRATIVA
                    <br class="md:hidden">
                </h2>

                <p
                    class="bg-adventist-blue text-adventist-gold inline-block px-6 py-2 rounded-xl md:rounded-2xl font-black text-lg md:text-3xl italic shadow-md mb-8">
                    D√çA DOMINGO 4 DE ENERO 2026 - 10:00 HRS.
                </p>

                <div class="mt-6 animate-pulse">
                    <div
                        class="bg-red-600 text-white p-4 md:p-6 rounded-[1.5rem] border-4 border-yellow-400 shadow-2xl">
                        <h3 class="text-xl md:text-4xl font-black uppercase mb-2">
                            ‚ö†Ô∏è ¬°AVISO IMPORTANTE! ‚ö†Ô∏è
                        </h3>
                        <p class="text-lg md:text-2xl font-bold leading-tight">
                            HASTA ESTE <span class="underline decoration-yellow-400 decoration-4">VIERNES</span> SE
                            RECIBEN PUNTOS.
                            <br class="hidden md:block">
                            FAVOR ENVIAR POR INTERNO A SECRETAR√çA DE LA IGLESIA:
                        </p>
                        <p class="text-2xl md:text-5xl font-black mt-2 text-yellow-300 drop-shadow-lg">
                            HNA. HILDA SANDOVAL
                        </p>
                    </div>
                </div>
            </section>

            <section
                class="hover-card bg-white border-t-[12px] md:border-t-[16px] border-adventist-gold rounded-[2.5rem] p-6 md:p-10 shadow-xl text-center">
                <i class="fas fa-medal text-5xl md:text-6xl text-adventist-gold mb-6"></i>
                <h2 class="text-2xl md:text-5xl font-heading font-black text-slate-800 leading-tight mb-6 uppercase">
                    ENERO 2026
                    INVESTIDURA DE CIERRE CLUB DE AVENTUREROS</h2>
                <div
                    class="bg-slate-100 p-4 md:p-6 rounded-2xl md:rounded-[2rem] inline-flex items-center gap-3 md:gap-4">
                    <span class="text-gray-500 font-bold text-sm md:text-xl uppercase tracking-widest">Fecha y
                        Horario:</span>
                    <span class="text-adventist-blue font-black text-3xl md:text-6xl italic">POR CONFIRMAR</span>
                </div>
            </section>

            <section
                class="hover-card bg-red-50 border-t-[12px] border-adventist-red rounded-[3rem] p-10 shadow-xl text-center relative overflow-hidden">
                <div class="absolute top-5 left-5 opacity-10 text-adventist-red text-8xl -rotate-12">
                    <i class="fas fa-calendar-times"></i>
                </div>
                <h2 class="text-4xl md:text-7xl font-heading font-black text-adventist-red leading-none mb-4 uppercase">
                    CULTO JA</h2>

                <div class="bg-adventist-red text-white py-6 rounded-[2rem] shadow-2xl transform -rotate-1">
                    <p class="text-3xl md:text-6xl font-black uppercase tracking-tighter">¬°HASTA EL <br> PR√ìXIMO A√ëO!
                    </p>
                </div>
            </section>

            <section
                class="hover-card bg-slate-900 rounded-[2.5rem] p-8 md:p-10 shadow-4xl text-center text-white border-b-[10px] md:border-b-[12px] border-adventist-gold">
                <p class="text-lg md:text-3xl font-heading font-black uppercase mb-6 leading-tight">Anciano de Turno -
                    Enero</p>
                <h2
                    class="text-3xl md:text-7xl font-heading font-black uppercase italic tracking-tighter leading-tight">
                    HNO <br> MAURICIO GALAZ
                </h2>
            </section>

        </main>

        <footer class="bg-white py-16 text-center rounded-t-[4rem] border-t border-slate-200 relative">
            <div class="container mx-auto px-6">
                <div class="flex justify-center space-x-8 mb-8">
                    <a href="#"
                        class="text-adventist-blue hover:text-adventist-gold transition-transform hover:-translate-y-1"><i
                            class="fab fa-facebook-f fa-2xl"></i></a>
                    <a href="#"
                        class="text-adventist-blue hover:text-adventist-gold transition-transform hover:-translate-y-1"><i
                            class="fab fa-instagram fa-2xl"></i></a>
                    <a href="#"
                        class="text-adventist-blue hover:text-adventist-gold transition-transform hover:-translate-y-1"><i
                            class="fab fa-youtube fa-2xl"></i></a>
                </div>

                <p
                    class="font-heading font-black text-adventist-blue text-2xl md:text-3xl uppercase tracking-tighter mb-6 italic underline decoration-adventist-gold decoration-4">
                    IASD SAN FRANCISCO DE LIMACHE
                </p>

                <p
                    class="text-slate-500 font-bold uppercase tracking-widest text-sm flex items-center justify-center gap-2">
                    Dise√±ado con <i class="fas fa-heart text-red-500 animate-pulse"></i> por <span
                        class="text-slate-900 font-black">MGE</span>
                </p>

                <p class="text-[10px] text-slate-800 mt-8 uppercase tracking-[0.4em] font-bold italic">Esperanza en el
                    pronto regreso de Jes√∫s</p>

                <p class="text-[10px] text-slate-400 mt-4 uppercase tracking-[0.2em] font-bold">¬© 2025 DERECHOS
                    RESERVADOS -
                    San Francisco de Limache</p>
            </div>
        </footer>

        <button id="btnTop"
            class="hidden fixed bottom-6 right-6 bg-adventist-blue text-white w-12 h-12 md:w-14 md:h-14 rounded-2xl shadow-2xl z-[100] items-center justify-center">
            <i class="fas fa-chevron-up"></i>
        </button>

        <script>
            // L√≥gica del Men√∫ M√≥vil
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('open');
                const icon = menuBtn.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });

            // L√≥gica Bot√≥n Volver Arriba
            const btnTop = document.getElementById("btnTop");
            window.addEventListener("scroll", () => {
                if (window.scrollY > 500) {
                    btnTop.classList.remove("hidden");
                    btnTop.classList.add("flex");
                } else {
                    btnTop.classList.add("hidden");
                    btnTop.classList.remove("flex");
                }
            });
            btnTop.addEventListener("click", () => {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        </script>

        <main class="container mx-auto px-4 -mt-10 pb-20 max-w-4xl space-y-8 md:space-y-12">

            <div id="contenedor-avisos-dinamicos" class="space-y-8 md:space-y-12">
            </div>

            <section class="mt-20 pt-10 border-t border-slate-200">
                <div class="flex flex-col items-center gap-4">
                    <button onclick="toggleAdminPanel()"
                        class="text-slate-300 hover:text-adventist-blue text-[10px] font-black uppercase tracking-[0.4em] transition-all">
                        <i class="fas fa-lock-open mr-2"></i> Gesti√≥n de Muro
                    </button>

                    <div id="admin-panel"
                        class="hidden flex flex-col items-center gap-3 bg-white p-8 rounded-[2.5rem] shadow-2xl border border-slate-100 max-w-sm w-full">
                        <p class="text-[9px] font-black text-adventist-blue uppercase tracking-widest mb-2">Clave
                            Maestra para Editar</p>
                        <input type="password" id="admin-pass" placeholder="Contrase√±a"
                            class="bg-slate-50 px-6 py-3 rounded-2xl text-center focus:ring-2 focus:ring-adventist-gold outline-none w-full shadow-inner font-bold">
                        <div class="flex gap-2 w-full">
                            <button onclick="activarEdicion()"
                                class="flex-1 bg-adventist-blue text-white py-3 rounded-xl font-black text-[10px] uppercase shadow-lg">Activar</button>
                            <button onclick="borrarTodoMuro()"
                                class="flex-1 bg-red-600 text-white py-3 rounded-xl font-black text-[10px] uppercase shadow-lg">Limpiar</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <script>
            // VARIABLE GLOBAL: Controla si se dibujan los botones de basura
            let modoEdicionActivo = false;

            function toggleAdminPanel() {
                document.getElementById('admin-panel').classList.toggle('hidden');
            }

            function activarEdicion() {
                const pass = document.getElementById('admin-pass').value.trim();
                if (pass === "iasd2025") {
                    modoEdicionActivo = true;
                    alert("‚úÖ MODO EDICI√ìN: Ahora puede eliminar avisos individualmente.");
                    cargarAvisos(); // REDIBUJA TODO PARA MOSTRAR LOS BOTONES
                    document.getElementById('admin-panel').classList.add('hidden');
                } else {
                    alert("‚ùå Clave incorrecta.");
                }
            }

            function eliminarAviso(id) {
                if (confirm("¬øEliminar este aviso de forma permanente?")) {
                    let avisos = JSON.parse(localStorage.getItem('avisosIglesia')) || [];
                    // Filtra por ID para eliminar solo el seleccionado
                    avisos = avisos.filter(a => a.id !== id);
                    localStorage.setItem('avisosIglesia', JSON.stringify(avisos));
                    cargarAvisos(); // ACTUALIZA LA VISTA AL INSTANTE

                    // Dentro de tu funci√≥n eliminarAvisoIndividual(id):
                    showModal({
                        title: "¬øEliminar Aviso?",
                        message: "Esta acci√≥n eliminar√° el mensaje de forma permanente.",
                        type: "danger",
                        onConfirm: () => {
                            // Aqu√≠ va tu l√≥gica actual para borrar el aviso
                            avisos = avisos.filter(a => a.id !== id);
                            localStorage.setItem('avisosIglesia', JSON.stringify(avisos));
                            cargarAvisos();
                        }
                    });
                }
            }

            function borrarTodoMuro() {
                if (confirm("¬øDesea borrar TODOS los avisos del muro?")) {
                    localStorage.removeItem('avisosIglesia');
                    location.reload();
                }
            }

            function cargarAvisos() {
                // Buscamos el contenedor por su ID
                const contenedor = document.getElementById('contenedor-avisos-dinamicos');

                // Si el contenedor no existe en el HTML, no hacemos nada para evitar error
                if (!contenedor) return;

                // Leemos los datos guardados
                const avisos = JSON.parse(localStorage.getItem('avisosIglesia')) || [];

                if (avisos.length === 0) {
                    contenedor.innerHTML = `
            <div class="text-center p-10 bg-white/50 rounded-3xl border-2 border-dashed border-slate-300">
                <p class="text-slate-400 font-bold uppercase tracking-widest text-sm">
                    No hay avisos nuevos de los l√≠deres todav√≠a
                </p>
            </div>`;
                    return;
                }

                // Dibujamos los avisos con el dise√±o elegante
                contenedor.innerHTML = avisos.map(aviso => `
        <section class="relative bg-white border-t-[12px] md:border-t-[16px] ${aviso.departamento.includes('ANCIANATO') ? 'border-adventist-gold' : 'border-adventist-blue'} rounded-[2.5rem] md:rounded-[3.5rem] p-6 md:p-12 shadow-2xl transition-all hover:scale-[1.01]">
            
            ${typeof modoEdicionActivo !== 'undefined' && modoEdicionActivo ? `
            <button onclick="eliminarAviso(${aviso.id})" 
                    class="absolute -top-4 -right-2 bg-red-600 text-white w-10 h-10 rounded-full shadow-xl z-50 flex items-center justify-center border-4 border-white">
                <i class="fas fa-trash-alt"></i>
            </button>` : ''}

            <div class="flex justify-between items-start mb-6">
                <span class="bg-adventist-blue text-white text-[10px] font-black px-4 py-1 rounded-full uppercase tracking-widest">
                    ${aviso.departamento}
                </span>
                <span class="text-[10px] font-black text-slate-300 uppercase">${aviso.fecha}</span>
            </div>

            <div class="text-center">
                <h2 class="text-2xl md:text-5xl font-heading font-black text-slate-800 leading-tight mb-8 uppercase italic">
                    "${aviso.mensaje}"
                </h2>
                <div class="flex flex-col md:flex-row items-center justify-center gap-6 border-t border-slate-100 pt-8">
                    <p class="text-slate-400 font-bold text-xs uppercase tracking-widest">
                        <i class="fas fa-user-circle mr-1 text-adventist-blue"></i> L√çDER: ${aviso.lider}
                    </p>
                    <button onclick="compartirWhatsApp(\`${aviso.mensaje.replace(/"/g, "'")}\`, '${aviso.departamento}')" 
                            class="bg-[#25d366] text-white px-6 py-2 rounded-full font-black text-[10px] uppercase shadow-lg flex items-center gap-2">
                        <i class="fab fa-whatsapp"></i> COMPARTIR
                    </button>
                </div>
            </div>
        </section>
    `).join('');
            }

            // ESTO ES VITAL: Ejecutar la funci√≥n cuando la p√°gina termine de cargar
            document.addEventListener('DOMContentLoaded', cargarAvisos);

            function compartirWhatsApp(mensaje, departamento) {
                const textoCompartir = `üì¢ Aviso de ${departamento}:\n\n"${mensaje}"\n\nEnviado desde IASD San Francisco de Limache.`;
                const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(textoCompartir)}`;
                window.open(url, '_blank');
            }
        </script>

    </main>

    <script>
        function crearTarjetaAviso(departamento, detalle, lider) {
            const contenedor = document.getElementById('seccionAvisos');
            const card = `
        <div class="bg-white rounded-xl shadow-lg overflow-hidden border-t-4 border-adventist-blue">
            <div class="p-5">
                <span class="text-xs font-bold uppercase text-blue-600">${departamento}</span>
                <p class="text-gray-800 font-medium mt-2">${detalle}</p>
                <div class="mt-4 flex items-center justify-between border-t pt-3">
                    <span class="text-gray-500 text-xs">üë§ ${lider}</span>
                    <img src="logo-iasd.png" class="h-6 opacity-30">
                </div>
            </div>
        </div>
    `;
            contenedor.innerHTML += card;
    </script>

</body>

</html>